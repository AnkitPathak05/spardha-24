{"version":3,"file":"static/js/211.91dc18d7.chunk.js","mappings":"6KAIA,MAkDA,EAlDiB,KACb,MAAOA,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,CAAEC,SAAU,CAAEC,MAAO,YAC/DC,EAAkBC,IAAuBJ,EAAAA,EAAAA,WAAS,GACnDK,EAAOC,aAAaC,QAAQ,QAkBlC,OAhBAC,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAAQH,aAAaC,QAAQ,SACnCG,IAAAA,IAAUC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,mBAAqB,aAAc,CACrDC,QAAS,CACLC,cAAe,SAAWL,KAE/BM,MAAKC,IAEAA,EAAIC,MAAQD,EAAIC,KAAKC,OAAS,IAC9Bd,GAAoB,GACpBL,EAAgBiB,EAAIC,KAAKE,GAAG,IAC/B,GATL,GAWD,CAAChB,KAIA,gBAAKiB,UAAU,8BAAf,UACI,gBAAKA,UAAU,gBAAf,UACI,yBAEiB,UAATf,GAA6B,UAATA,GAChB,eAAIgB,MAAO,CAACC,UAAW,QAAvB,yDAEA,iCACI,gBAAKF,UAAU,oBAAf,SACKjB,GAEG,SAACoB,EAAD,CAAoBC,IAAK1B,KAGzB,SAAC2B,EAAD,CAAuBrB,oBAAqBA,OAGpD,mBACA,mBACA,0BApB5B,EA+BEmB,EAAqB,IAAc,IAAb,IAAEC,GAAU,EACpC,MAAOE,EAAYC,IAAiB3B,EAAAA,EAAAA,UAASwB,EAAIvB,SAAS2B,OAAOC,KAAKL,EAAIvB,UAAUkB,GAAG,KACjFW,EAAQN,EAAIO,IAElBvB,EAAAA,EAAAA,YAAU,KACNmB,EAAcH,EAAIvB,SAAS2B,OAAOC,KAAKL,EAAIvB,UAAUkB,GAAG,IAAxD,GACD,CAACK,EAAIvB,WAmBR,IAAI+B,EAWJ,OATIA,EADe,IAAfR,EAAIS,OACW,wBAEK,IAAfT,EAAIS,OACM,sCAGA,cAIf,iCACI,iBAAKb,UAAU,OAAf,WACI,mBACA,kBAAOc,QAAQ,WAAWd,UAAU,aAApC,UAAiD,mDACjD,mBACA,kBACIe,KAAK,OACLf,UAAU,eACVgB,YAAY,QACZC,MAAOX,EACPY,SAxCWC,IACvBZ,EAAcY,EAAEC,OAAOH,MAAvB,EAwCYI,SAAyB,IAAfjB,EAAIS,UAElB,mBACA,gBAAKZ,MAAO,CAAEqB,QAAS,QAAvB,UACI,mBAAQP,KAAK,SAASf,UAAU,0BAA0BW,GAAG,UAAUY,QA1C7DC,UACtBL,EAAEM,iBACF,MAAMpC,EAAQH,aAAaC,QAAQ,eAC7BG,IAAAA,MAAYC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,mBAAsB,aAAYkB,KAAU,CACtE7B,SAAU,CACN6C,KAAMpB,IAEX,CACCb,QAAS,CACLC,cAAe,SAAWL,KAGlCsC,MAAM,mBAAN,EA8B+GN,SAAyB,IAAfjB,EAAIS,OAAjH,uCAGR,iBAAKb,UAAU,UAAf,WACI,mBAAM,mBACN,uCACA,wBAAKI,EAAIwB,YAAcxB,EAAIwB,YAAc,oBAE7C,gBAAK5B,UAAU,oBAAf,UACI,gBAAKA,UAAU,SAAf,UACI,gBAAKA,UAAU,MAAf,UAAqB,oDAA4BY,aA1BjE,EAiCEP,EAAwB,IAA8B,IAA7B,oBAAErB,GAA0B,EACvD,MAAOsB,EAAYC,IAAiB3B,EAAAA,EAAAA,UAAS,IAoB7C,OACI,iCACI,iBAAKoB,UAAU,OAAf,WACI,mBACA,kBAAOc,QAAQ,WAAWd,UAAU,aAApC,UAAiD,kEAEjD,mBACA,kBACIe,KAAK,OACLf,UAAU,eACVgB,YAAY,QACZC,MAAOX,EACPY,SA/BWC,IACvBZ,EAAcY,EAAEC,OAAOH,MAAvB,QAiCI,mBACA,mBAAQF,KAAK,SAASf,UAAU,0BAA0BW,GAAG,UAAUY,QAhCtDC,UAErBL,EAAEM,iBACF,MAAMpC,EAAQH,aAAaC,QAAQ,eAC7BG,IAAAA,KAAWC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,mBAAqB,aAAc,CAC5DX,SAAU,CACN6C,KAAMpB,IAEX,CACCb,QAAS,CACLC,cAAe,SAAWL,KAGlCL,GAAoB,EAApB,EAmBI,qBACA,gBAAKgB,UAAU,oBAAf,UACI,gBAAKA,UAAU,SAAf,UACI,gBAAKA,UAAU,MAAf,UAAqB,wBAAK,oDAnB1C,C","sources":["components/DashBoard/Document/Document.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Document.css';\nimport axios from 'axios';\n\nconst Document = () => {\n    const [documentData, setDocumentData] = useState({ document: { field: \"Value\" } });\n    const [documentUploaded, setDocumentUploaded] = useState(false); // State to track document upload status\n    const role = localStorage.getItem('role');\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        axios.get(process.env.REACT_APP_BASE_URL + \"documents/\", {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        }).then(res => {\n            // Check if the document data exists, and set documentUploaded accordingly\n            if (res.data && res.data.length > 0) {\n                setDocumentUploaded(true);\n                setDocumentData(res.data.at(0))\n            }\n        });\n    }, [documentUploaded]);\n\n\n    return (\n        <div className=\"user-dashboard3 profile_Pad\">\n            <div className=\"row_dbProfile\">\n                <div>\n                    {\n                        role === \"staff\" || role === \"admin\" ?\n                            <h3 style={{marginTop: \"30px\"}}> Staff and Admins can't upload documents  </h3>\n                            :\n                            <>\n                                <div className=\"doc_upper_content\">\n                                    {documentUploaded ? (\n                                        // UI 2: Display document data and comment if document is uploaded\n                                        <UploadedDocumentUI doc={documentData} />\n                                    ) : (\n                                        // UI 1: Display input field and upload button if document is not uploaded\n                                        <NotUploadedDocumentUI setDocumentUploaded={setDocumentUploaded} />\n                                    )}\n                                </div>\n                                <br />\n                                <br />\n                                <br />\n                            </>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Document;\n//UI2\nconst UploadedDocumentUI = ({ doc }) => {\n    const [inputValue, setInputValue] = useState(doc.document[Object.keys(doc.document).at(0)]);\n    const docId = doc.id;\n\n    useEffect(() => {\n        setInputValue(doc.document[Object.keys(doc.document).at(0)])\n    }, [doc.document])\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    };\n    const handleMadeChanges = async (e) => {\n        e.preventDefault();\n        const token = localStorage.getItem('token');\n        await axios.patch(process.env.REACT_APP_BASE_URL + `documents/${docId}/`, {\n            document: {\n                link: inputValue\n            },\n        }, {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        });\n        alert(\"Uploaded Changes\")\n    };\n\n    let verifVerdict;\n    if (doc.status === 2) {\n        verifVerdict = \"Verfied Successfully!\"\n    }\n    else if (doc.status === 1) {\n        verifVerdict = \"Rejected. Please read the comments.\"\n    }\n    else {\n        verifVerdict = \"Pending...\"\n    }\n\n    return (\n        <>\n            <div className=\"mb-3\">\n                <br />\n                <label htmlFor=\"formFile\" className=\"form-label\"><h6>Uploaded Drive Link</h6></label>\n                <br />\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Input\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    disabled={doc.status === 2}\n                />\n                <br />\n                <div style={{ display: \"flex\" }}>\n                    <button type=\"button\" className=\"btn btn-outline-success\" id=\"buttonn\" onClick={handleMadeChanges} disabled={doc.status === 2}>I have made Changes</button>\n                </div>\n            </div>\n            <div className=\"comment\">\n                <br /><br />\n                <h6>Comments:</h6>\n                <h6>{doc.description ? doc.description : \"No Comments\"}</h6>\n            </div>\n            <div className=\"doc_lower_content\">\n                <div className=\"status\">\n                    <div className=\"col\"><h6>Verification  Status:  {verifVerdict}</h6></div>\n                </div>\n            </div>\n        </>\n    );\n};\n//UI1\nconst NotUploadedDocumentUI = ({ setDocumentUploaded }) => {\n    const [inputValue, setInputValue] = useState('');\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    };\n    const handleFormSubmit = async (e) => {\n        //post\n        e.preventDefault();\n        const token = localStorage.getItem('token');\n        await axios.post(process.env.REACT_APP_BASE_URL + \"documents/\", {\n            document: {\n                link: inputValue\n            }\n        }, {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        });\n        setDocumentUploaded(true);\n    };\n\n    return (\n        <>\n            <div className=\"mb-3\">\n                <br />\n                <label htmlFor=\"formFile\" className=\"form-label\"><h6>Upload Drive Link For Verification</h6></label>\n\n                <br />\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Input\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                />\n            </div>\n            <br />\n            <button type=\"button\" className=\"btn btn-outline-success\" id=\"buttonn\" onClick={handleFormSubmit}>Upload</button>\n            <div className=\"doc_lower_content\">\n                <div className=\"status\">\n                    <div className=\"col\"><h6>{'Please Upload Your Document Folder Link'}</h6></div>\n                </div>\n            </div>\n        </>\n    )\n}\n"],"names":["documentData","setDocumentData","useState","document","field","documentUploaded","setDocumentUploaded","role","localStorage","getItem","useEffect","token","axios","process","REACT_APP_BASE_URL","headers","Authorization","then","res","data","length","at","className","style","marginTop","UploadedDocumentUI","doc","NotUploadedDocumentUI","inputValue","setInputValue","Object","keys","docId","id","verifVerdict","status","htmlFor","type","placeholder","value","onChange","e","target","disabled","display","onClick","async","preventDefault","link","alert","description"],"sourceRoot":""}